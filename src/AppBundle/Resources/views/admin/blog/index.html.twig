{% extends '@AppBundle/Resources/views/admin/table.html.twig' %}

{% block thead %}
    <h1>Blogs list</h1>

    <table class="table table-striped table-bordered table-hover js-table" id="sample_1"  >
        <thead>
            <tr>
                <th>Slika</th>
                <th>Title</th>
                <th>Description</th>
                <th>Actions</th>
            </tr>
        </thead>
    {% endblock %}

    {% block tbody %}
        <tbody>
            {% for blog in blogs %}
                <tr>
                    <td>
                        {% for picture in blog.mainGallery %}
                            <img src="{{ vich_uploader_asset(picture, 'imageFile') }}" height="50" width="50" />
                        {% endfor %}
                    </td>
                    <td>{{ blog.title }}</td>
                    <td>{{ blog.description [:50] |raw}}</td>
                    <td class="btn-group btn-group-circle btn-group-solid">  
                        <a href="{{ path('blog_show', { 'slug': blog.slug }) }}" class="btn green">show</a>
                        <a href="{{ path('blog_edit', { 'slug': blog.slug }) }}" class="btn yellow">edit</a>
                        <a class="btn red 
                           js-delete-row"  
                           href="#"                          
                           data-url="{{ path ('blog_delete', {'slug':blog.slug}) }}"
                           >delete</a>
                    </td>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

            <a href="{{ path('blog_new') }}" class="btn btn-circle green">Create a new blog</a>
            

{% endblock %}

